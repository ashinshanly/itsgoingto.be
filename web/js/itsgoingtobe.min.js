$(function(){$('form[name="answers"]').submit(function(e){}),$('input:radio[name="answer"]').change(function(){$.ajax({type:"POST",url:$('form[name="answers"]').attr("action"),data:$('form[name="answers"]').serialize(),success:function(e){console.log(e)}});var e=$(this).filter(":checked").val(),n=parseInt($(".options").attr("responses"));if($(".options").hasClass("show-results")){var s=$(".options").attr("currentResponse"),t=parseInt($(".result[name=answer-"+s+"]").attr("responses"))-1;$(".result[name=answer-"+s+"]").attr("responses",t)}else n+=1,$(".options").attr("responses",n);var a=parseInt($(".result[name=answer-"+e+"]").attr("responses"))+1;$(".result[name=answer-"+e+"]").attr("responses",a),$(".options").attr("currentResponse",e),$(".result").each(function(e){var s=parseInt($(this).attr("responses")),t=s/n*100;$(this).css("width",t+"%")}),$(".options").addClass("show-results")})}),$(function(){function e(){var e=this.id,n=e.split("-"),u=parseInt(n[1]);this.value.length?(u>o&&(o=u,i(u)),a()>=2&&$("button.btn-question").removeClass("disabled")):(u==o&&(o=t(),r(o+1),s(o+1)),a()<2&&$("button.btn-question").addClass("disabled"))}function n(){var e=this.id,n=0,t=0,a=event.keyCode||event.charCode;13==a&&event.preventDefault(),this.value.length?13==a&&(n=e.split("-"),t=parseInt(n[1]),s(t+1)):(8==a||46==a)&&(n=e.split("-"),t=parseInt(n[1]),1!=t&&t>o&&(event.preventDefault(),s(t-1))),38==a?(n=e.split("-"),t=parseInt(n[1]),s(t-1)):40==a&&(n=e.split("-"),t=parseInt(n[1]),s(t+1))}function s(e){$('input[name="answer-'+e+'"]').focus()}function t(){var e=0;return $("input.input-field-answer").each(function(n){this.value.length&&(e=n+1)}),e}function a(){var e=0;return $("input.input-field-answer").each(function(n){this.value.length&&(e+=1)}),e}function i(s){$(".answers .input-answer:eq("+s+")").removeClass("input-disabled"),$(".answers .input-answer:eq("+s+") input").removeAttr("disabled");var t=s+2;$(".answers").append('<span class="input input-answer input-disabled"><label class="input-label input-label-answer" for="answer-'+t+'">'+t+'</label><input class="input-field input-field-answer" disabled type="text" id="answer-'+t+'" name="answer-'+t+'"></textarea></span>'),$("input.input-field-answer").bind("input",e),$("input.input-field-answer").bind("keydown",n)}function r(e){$(".answers .input-answer:eq("+e+")").addClass("input-disabled"),$(".answers .input-answer:eq("+e+") input").attr("disabled",!0),$(".answers .input-answer").each(function(n){n>e&&$(this).remove()})}var o=0;$("textarea.input-field-question").bind("input",function(){this.value.length?($(".header-container").addClass("gone"),$(".question-container").addClass("move-up"),$(".answers").removeClass("gone"),$(".options").removeClass("gone")):($(".header-container").removeClass("gone"),$(".question-container").removeClass("move-up"),$(".answers").addClass("gone"),$(".options").addClass("gone"))}),$("input.input-field-answer").bind("input",e),$("input.input-field-answer").bind("keydown",n),$("button.btn-question").click(function(e){a()<2&&e.preventDefault()})});